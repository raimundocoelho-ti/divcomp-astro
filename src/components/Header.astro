---
import HeaderLink from './HeaderLink.astro';
const whatsapp = "5532999998888";
---

<header class="bg-white border-b border-gray-200 shadow-sm sticky top-0 z-30 w-full" x-data="{ open: false }">
	<div class="container mx-auto flex flex-wrap items-center justify-between px-4 py-3">
		{/* Logo */}
		<a href="/" class="flex items-center">
			<img src="/images/logo-div-comp.png" alt="DivComp Informática" class="h-10 w-auto" />
		</a>

		{/* Hamburger (mobile) */}
		<button
			@click="open = !open"
			class="inline-flex md:hidden items-center p-2 rounded text-gray-700 hover:bg-gray-100 focus:outline-none"
			aria-label="Abrir menu"
		>
			<svg class="w-7 h-7" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
				<path stroke-linecap="round" stroke-linejoin="round"
					  :d="open ? 'M6 18L18 6M6 6l12 12' : 'M4 8h16M4 16h16'" />
			</svg>
		</button>

		{/* Menu principal */}
		<nav class="hidden md:flex gap-2 text-base font-semibold">
			<HeaderLink href="/">Início</HeaderLink>
			<HeaderLink href="/servicos">Serviços</HeaderLink>
			<HeaderLink href="/sobre">Sobre</HeaderLink>
			<HeaderLink href="/faq">Dúvidas</HeaderLink>
			<HeaderLink href="/contato">Contato</HeaderLink>
		</nav>

		{/* Botão WhatsApp (desktop) */}
		<a href={`https://wa.me/${whatsapp}`} target="_blank" rel="noopener"
		   class="ml-4 hidden md:inline-flex items-center gap-2 bg-green-500 hover:bg-green-600 text-white font-bold px-4 py-2 rounded-lg shadow transition">
			<span class="icon-[ic--baseline-whatsapp] w-6 h-6"></span>
			WhatsApp
		</a>
	</div>

	{/* Mobile Menu (dropdown animado) */}
	<nav
		class="md:hidden px-6 pt-2 pb-4 flex flex-col gap-2 bg-white border-t border-gray-100 transition-all duration-300 ease-in-out"
		x-show="open"
		x-transition:enter="transition ease-out duration-300"
		x-transition:enter-start="opacity-0 -translate-y-6"
		x-transition:enter-end="opacity-100 translate-y-0"
		x-transition:leave="transition ease-in duration-200"
		x-transition:leave-start="opacity-100 translate-y-0"
		x-transition:leave-end="opacity-0 -translate-y-4"
		@click.away="open = false"
		style="display: none;"
	>
		<HeaderLink href="/">Início</HeaderLink>
		<HeaderLink href="/servicos">Serviços</HeaderLink>
		<HeaderLink href="/sobre">Sobre</HeaderLink>
		<HeaderLink href="/faq">Dúvidas</HeaderLink>
		<HeaderLink href="/contato">Contato</HeaderLink>
		<a href={`https://wa.me/${whatsapp}`} target="_blank" rel="noopener"
		   class="inline-flex items-center gap-2 bg-green-500 hover:bg-green-600 text-white font-bold px-4 py-2 rounded-lg shadow mt-3 transition">
			<span class="icon-[ic--baseline-whatsapp] w-6 h-6"></span>
			WhatsApp
		</a>
	</nav>
</header>
