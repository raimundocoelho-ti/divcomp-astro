---
import BaseLayout from '../layouts/BaseLayout.astro';
const cidade = "Divinésia";
const estado = "MG";
const whatsapp = "5532999998888";

// Dados das avaliações (fakes por enquanto)
const reviews = [
	{
		id: 1,
		author: "Ana Clara S.",
		rating: 5,
		text: "Atendimento excelente e rápido! Meu notebook ficou como novo. Recomendo muito a DivComp!",
		date: "2 dias atrás"
	},
	{
		id: 2,
		author: "João Paulo M.",
		rating: 5,
		text: "Problema com a rede da empresa resolvido no mesmo dia. Suporte técnico de primeira qualidade.",
		date: "1 semana atrás"
	},
	{
		id: 3,
		author: "Mariana L. R.",
		rating: 4,
		text: "Ótimo serviço de manutenção. Só demorou um pouco mais do que o esperado, mas o resultado foi perfeito.",
		date: "2 semanas atrás"
	},
	{
		id: 4,
		author: "Carlos E. D.",
		rating: 5,
		text: "Profissionais qualificados e preço justo. Meu PC estava travando e agora está super rápido. Satisfeito!",
		date: "3 semanas atrás"
	},
	{
		id: 5,
		author: "Fernanda G. P.",
		rating: 5,
		text: "Sempre que preciso de suporte em TI, a DivComp é a minha primeira opção. Confiabilidade e eficiência.",
		date: "1 mês atrás"
	}
];

// Função para gerar as estrelas com base na avaliação
const renderStars = (rating: number) => {
	let stars = '';
	for (let i = 0; i < 5; i++) {
		if (i < rating) {
			stars += '<span class="icon-[ic--star] w-5 h-5 text-yellow-400"></span>'; // Estrela preenchida
		} else {
			stars += '<span class="icon-[ic--star] w-5 h-5 text-gray-300"></span>'; // Estrela vazia (opcional, para 4.0, por exemplo)
		}
	}
	return stars;
};
---

<BaseLayout
	title="DivComp Informática | Assistência Técnica e Soluções em TI - Divinésia/MG"
	description="Manutenção de computadores, redes, servidores e soluções em TI. Atendimento presencial e remoto para empresas e residências em Divinésia/MG. Fale agora pelo WhatsApp!"
>

	{/* HERO ULTRA CLEAN (mantido do último ajuste) */}
	<section class="relative w-full bg-gradient-to-tr from-green-50 via-white to-green-100 py-16 md:py-24 overflow-hidden">
		<div class="max-w-5xl mx-auto flex flex-col md:flex-row items-center gap-10 px-6 text-center md:text-left">
			<div class="flex-1 flex flex-col gap-6">
            <span class="block text-green-700 font-semibold text-lg">
              Bem-vindo à DivComp Informática
            </span>
				<h1 class="text-4xl md:text-5xl font-extrabold text-gray-900 leading-tight tracking-tight">
					Como podemos te ajudar?
				</h1>
				<p class="text-lg md:text-xl text-gray-700">
					Manutenção de computadores, redes, servidores e soluções em TI para <b>{cidade}/{estado}</b>.<br/>
					Atendimento rápido, presencial ou remoto. Fale direto no WhatsApp.
				</p>
				<div class="flex flex-wrap justify-center md:justify-start gap-3 mt-2">
                <span class="inline-flex items-center gap-1 bg-green-100 px-3 py-1 rounded-full text-green-800 font-medium text-sm">
                  <span class="icon-[mdi--map-marker] w-5 h-5"></span> {cidade}, {estado}
                </span>
					<span class="inline-flex items-center gap-1 bg-green-50 px-3 py-1 rounded-full text-green-600 font-medium text-sm">
                  <span class="icon-[mdi--whatsapp] w-5 h-5"></span> WhatsApp Direto
                </span>
					<span class="inline-flex items-center gap-1 bg-green-200 px-3 py-1 rounded-full text-green-900 font-medium text-sm">
                  <span class="icon-[mdi--shield-check] w-5 h-5"></span> 100% Confiável
                </span>
				</div>
				<div class="flex flex-col sm:flex-row justify-center md:justify-start gap-4 mt-7">
					<a
						href="/servicos"
						class="inline-flex items-center justify-center gap-2 bg-green-600 hover:bg-green-700 text-white font-bold px-6 py-3 rounded-lg shadow-md transition text-lg w-full sm:w-auto"
					>
						<span class="icon-[mdi--tools] w-6 h-6"></span>
						Ver Serviços
					</a>
					<a
						href={`https://wa.me/${whatsapp}`}
						class="inline-flex items-center justify-center gap-2 bg-white hover:bg-green-50 text-green-700 border border-green-600 font-bold px-6 py-3 rounded-lg shadow-md transition text-lg w-full sm:w-auto"
						target="_blank" rel="noopener"
					>
						<span class="icon-[mdi--whatsapp] w-6 h-6"></span>
						WhatsApp
					</a>
				</div>
			</div>
			{/* Grid institucional (verde clean) */}
			<div class="flex-1 flex flex-col items-center justify-center mt-10 md:mt-0">
				<div class="grid grid-cols-2 gap-6">
					<div class="bg-white shadow rounded-xl flex flex-col items-center justify-center p-6 border border-green-100 hover:shadow-lg transition">
						<span class="icon-[mdi--monitor] w-12 h-12 text-green-600 mb-2"></span>
						<span class="text-sm font-medium text-gray-800 text-center">Computadores</span>
					</div>
					<div class="bg-white shadow rounded-xl flex flex-col items-center justify-center p-6 border border-green-100 hover:shadow-lg transition">
						<span class="icon-[mdi--server] w-12 h-12 text-green-700 mb-2"></span>
						<span class="text-sm font-medium text-gray-800 text-center">Servidores</span>
					</div>
					<div class="bg-white shadow rounded-xl flex flex-col items-center justify-center p-6 border border-green-100 hover:shadow-lg transition">
						<span class="icon-[mdi--wifi] w-12 h-12 text-green-500 mb-2"></span>
						<span class="text-sm font-medium text-gray-800 text-center">Redes & Wi-Fi</span>
					</div>
					<div class="bg-white shadow rounded-xl flex flex-col items-center justify-center p-6 border border-green-100 hover:shadow-lg transition">
						<span class="icon-[material-symbols--support-agent-rounded] w-12 h-12 text-green-400 mb-2"></span>
						<span class="text-sm font-medium text-gray-800 text-center">Consultoria</span>
					</div>
				</div>
			</div>
		</div>
		<div class="absolute top-0 right-0 w-1/2 h-full bg-green-50 opacity-20 -z-10 skew-x-12 hidden md:block"></div>
		<div class="absolute bottom-0 left-1/4 w-60 h-60 bg-green-100 rounded-full blur-2xl opacity-40 -z-20 hidden md:block"></div>
	</section>

	---

	{/* AVALIAÇÕES GOOGLE - CARROSSEL COM SCROLL SNAP */}
	<section class="w-full bg-white py-12 md:py-16 border-b border-green-100">
		<div class="max-w-6xl mx-auto px-6">
			<h2 class="text-2xl md:text-3xl font-bold text-center text-green-700 mb-8">O que nossos clientes dizem</h2>

			{/* Avaliação geral (estrelas e número de avaliações) */}
			<div class="flex flex-col items-center gap-y-3 mb-10 text-center">
				<div class="flex items-center gap-2">
					<span class="icon-[ic--star] w-7 h-7 text-green-500"></span>
					<span class="icon-[ic--star] w-7 h-7 text-green-500"></span>
					<span class="icon-[ic--star] w-7 h-7 text-green-500"></span>
					<span class="icon-[ic--star] w-7 h-7 text-green-500"></span>
					<span class="icon-[ic--star] w-7 h-7 text-green-500"></span>
					<span class="ml-2 font-bold text-lg text-gray-800">5.0</span>
				</div>
				<span class="bg-green-50 text-green-700 rounded-full px-3 py-1 font-medium text-xs md:text-sm">
                +120 avaliações reais no Google
            </span>
			</div>

			{/* Carrossel de avaliações */}
			<div class="flex overflow-x-auto snap-x snap-mandatory scroll-smooth pb-4 no-scrollbar mb-8">
				{reviews.map(review => (
					<div class="flex-none w-full md:w-1/2 lg:w-1/3 p-4 snap-center">
						<div class="bg-white rounded-lg shadow-md hover:shadow-xl p-6 border border-gray-100 flex flex-col h-full">
							<div class="flex justify-between items-start mb-3">
								<div class="flex flex-col">
									<h3 class="font-bold text-lg text-gray-900 mb-1">{review.author}</h3>
									<div class="flex items-center" set:html={renderStars(review.rating)}></div>
								</div>
								<span class="text-gray-500 text-sm flex-shrink-0">{review.date}</span>
							</div>
							<p class="text-gray-700 text-base flex-grow">{review.text}</p>
						</div>
					</div>
				))}
			</div>

			{/* Indicador de rolagem para mobile (opcional) */}
			<div class="md:hidden text-center text-gray-500 text-sm mt-4 mb-6">
				<span class="icon-[mdi--arrow-left-right-bold] inline-block align-middle mr-1"></span> Role para ver mais avaliações
			</div>

			{/* Link para todas as avaliações no Google - POSICIONADO ABAIXO DE TUDO */}
			<div class="text-center mt-6"> {/* Centraliza o link */}

				<a href="https://g.co/kgs/FakeLinkExemplo" target="_blank" rel="noopener" class="inline-flex items-center justify-center gap-2 bg-green-600 hover:bg-green-700 text-white font-bold px-8 py-3 rounded-lg shadow-md transition text-base md:text-lg">

					Ver todas as avaliações no Google
				</a>
			</div>

		</div>
	</section>

	{/* SERVIÇOS DESTAQUE (mantido do último ajuste) */}
	<section class="max-w-screen-xl mx-auto px-6 py-16 md:py-24">
		<h2 class="text-3xl md:text-4xl font-bold text-center text-green-700 mb-12">
			Serviços para resolver o seu problema
		</h2>
		<div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8">
			<div class="bg-white rounded-xl shadow-lg hover:shadow-xl p-7 flex flex-col gap-3 items-start border-l-4 border-green-600 transition duration-300">
				<span class="icon-[mdi--monitor] w-8 h-8 text-green-600"></span>
				<h3 class="font-bold text-xl">Manutenção de Computadores</h3>
				<p class="text-gray-700">Formatação, upgrades, remoção de vírus, instalação e configuração.</p>
			</div>
			<div class="bg-white rounded-xl shadow-lg hover:shadow-xl p-7 flex flex-col gap-3 items-start border-l-4 border-green-400 transition duration-300">
				<span class="icon-[mdi--wifi] w-8 h-8 text-green-400"></span>
				<h3 class="font-bold text-xl">Redes e Internet</h3>
				<p class="text-gray-700">Soluções para Wi-Fi, cabeamento, roteadores e impressoras.</p>
			</div>
			<div class="bg-white rounded-xl shadow-lg hover:shadow-xl p-7 flex flex-col gap-3 items-start border-l-4 border-green-300 transition duration-300">
				<span class="icon-[mdi--server] w-8 h-8 text-green-300"></span>
				<h3 class="font-bold text-xl">Servidores Linux e Windows</h3>
				<p class="text-gray-700">Manutenção, backup, segurança e otimização para empresas.</p>
			</div>
			<div class="bg-white rounded-xl shadow-lg hover:shadow-xl p-7 flex flex-col gap-3 items-start border-l-4 border-green-500 transition duration-300">
				<span class="icon-[mdi--cloud-upload] w-8 h-8 text-green-500"></span>
				<h3 class="font-bold text-xl">Backup & Proteção de Dados</h3>
				<p class="text-gray-700">Backup local, nuvem e recuperação de dados.</p>
			</div>
			<div class="bg-white rounded-xl shadow-lg hover:shadow-xl p-7 flex flex-col gap-3 items-start border-l-4 border-green-800 transition duration-300">
				<span class="icon-[material-symbols--support-agent-rounded] w-8 h-8 text-green-800"></span>
				<h3 class="font-bold text-xl">Consultoria & Suporte</h3>
				<p class="text-gray-700">Suporte especializado presencial ou remoto.</p>
			</div>
			<div class="bg-white rounded-xl shadow-lg hover:shadow-xl p-7 flex flex-col gap-3 items-start border-l-4 border-green-900 transition duration-300">
				<span class="icon-[mdi--shield-check] w-8 h-8 text-green-900"></span>
				<h3 class="font-bold text-xl">Prevenção de Falhas</h3>
				<p class="text-gray-700">Manutenção preventiva e análise de segurança.</p>
			</div>
		</div>
	</section>

	{/* CHAMADA FINAL / CTA (mantido do último ajuste) */}
	<section class="bg-gradient-to-r from-green-700 to-green-500 text-white py-16 md:py-24">
		<div class="max-w-2xl mx-auto text-center px-6">
			<h2 class="text-3xl md:text-4xl font-bold mb-4">
				Seu computador ou rede em boas mãos.
			</h2>
			<p class="mb-8 text-lg">
				Atendimento em toda <span class="font-semibold">{cidade}, {estado}</span>.<br />
				Fale agora com um especialista!
			</p>
			<a
				href={`https://wa.me/${whatsapp}`}
				class="inline-flex items-center justify-center gap-2 bg-white text-green-700 hover:text-green-900 font-bold px-10 py-5 rounded-lg shadow-lg text-xl transition"
				target="_blank" rel="noopener"
			>
				<span class="icon-[mdi--whatsapp] w-7 h-7"></span>
				Fale no WhatsApp
			</a>
		</div>
	</section>
</BaseLayout>